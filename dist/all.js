var app=angular.module("app",["ngRoute"]);app.controller("top10Albums",["$http","getAlbumData",function(a,t){var e=this;e.albums=t.albums,e.message="These are may favourite albums of the year, not necessarily the best or most deserving. Essentially: I'm sorry, Kendrik."}]),app.controller("top10Singles",["$http","getSingleData",function(a,t){var e=this;e.singles=t.singles,e.message="I disqualified any songs featured on the Albums list to make it more interesting, it would have looked very similar otherwise."}]),app.controller("top10Kanye",["$http","$timeout","getKanyeData",function(a,t,e){var r=this;r.kanye=e.kanyes,r.message="Kanye's great so even if he didn't release an album, gets a list courtesy of his feat'ing, producing and weird single strategy."}]),app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"js/pages/albums.html",controller:"top10Albums"}).when("/singles",{templateUrl:"js/pages/singles.html",controller:"top10Singles"}).when("/kanye",{templateUrl:"js/pages/kanye.html",controller:"top10Kanye"})}]),app.controller("navigation",["$location",function(a){var t=this;t.isActive=function(t){var e=t===a.path();return e}}]),app.filter("trusted",["$sce",function(a){return function(t){return a.trustAsResourceUrl(t)}}]),app.service("albumList",[function(){var a=this,t="5hB4jVN4ZHpubyiMmW81K1",e="2DtLmzu6cCDYO9U53a6hRA",r="1lvwZvotQke1mhZbwadECt",n="59olnuVrXXgrDH4wknpDLC",i="1kVTV6AoeMjAOMOJyVfYOl",s="4bYe7wIj8bQr57ghYYyPAF",l="2f6y5TjWHIuaiBY9A2ZtHm",o="3arNdjotCvtiiLFfjKngMc",d="79dL7FLiJFOO0EoehUHQBv",u="2fGpw56D35My0c82eNfKJF",m=[{dataUri:t,rank:1},{dataUri:e,rank:2},{dataUri:r,rank:8},{dataUri:n,rank:7},{dataUri:i,rank:4},{dataUri:s,rank:3},{dataUri:l,rank:6},{dataUri:o,rank:5},{dataUri:d,rank:10},{dataUri:u,rank:9}];a.albumUris=m}]),app.service("getAlbumData",["albumList","$http",function(a,t){function e(a,e){t({method:"GET",url:"https://api.spotify.com/v1/albums/"+a+"?market=ES"}).then(function(a){i(a,e)},function(a){console.log(a)})}function r(){for(var t=0;t<a.albumUris.length;t++)e(a.albumUris[t].dataUri,a.albumUris[t].rank)}var n=this;r(),albums=[];var i=function(a,t){var e={};if(e.rank=t,e.albumName=a.data.name,a.data.artists.length>1){for(var r="",n=0;n<a.data.artists.length;n++)0===n?r+=a.data.artists[n].name:r=r+", "+a.data.artists[n].name;e.artist=r}else e.artist=a.data.artists[0].name;e.artwork=a.data.images[0].url,e.listen=a.data.external_urls.spotify,e.tracklist=[],e.previewList=[];for(var i=a.data.tracks.total,n=0;i>n;n++){var s=a.data.tracks.items[n].name,l=a.data.tracks.items[n].preview_url;e.tracklist.push(s),e.previewList.push(l)}albums.push(e)};n.albums=albums}]),app.service("kanyeList",[function(){var a=this,t="3H2SdgGjREhOdvtlKUCWGy",e="078C2jXg7XsMgW78Gfx1JA",r="2gAGWaK4wvt2xrFUlR4mK8",n="4w7yrP4RAeeyhfG9nJqQvS",i="28YLWwEB6xnJQYN7e062rH",s="5XzmZjXhMjDHr7ZfJ6DELQ",l="0XLCdSMvlyKLwaajBZK1gW",o="4ZIb6YivyYtpOD0Ur7kDEP",d="1ys9KbGq0I8b1fUu2tMK8p",u="1YD3Dg7Olipi5FGVDLHWAu",m=[{dataUri:n,rank:1},{dataUri:s,rank:2},{dataUri:o,rank:8},{dataUri:e,rank:7},{dataUri:i,rank:3},{dataUri:l,rank:4},{dataUri:r,rank:6},{dataUri:t,rank:5},{dataUri:d,rank:10},{dataUri:u,rank:9}];a.kanyeUris=m}]),app.service("getKanyeData",["kanyeList","$http",function(a,t){function e(a,e){t({method:"GET",url:"https://api.spotify.com/v1/tracks/"+a+"?market=ES"}).then(function(a){i(a,e)},function(a){console.log(a)})}function r(){for(var t=0;t<a.kanyeUris.length;t++)e(a.kanyeUris[t].dataUri,a.kanyeUris[t].rank)}var n=this;n.kanyes={kanyes:"something"},r(),kanye=[];var i=function(a,t){var e={};e.rank=t,e.kanyeName=a.data.name,-1!=e.kanyeName.indexOf(" (feat. Kanye West & Diddy)")?e.kanyeName=e.kanyeName.replace(" (feat. Kanye West & Diddy)",""):-1!=e.kanyeName.indexOf(" - feat. Kanye West")&&(e.kanyeName=e.kanyeName.replace(" - feat. Kanye West","")),e.artist=a.data.artists[0].name;var r=a.data.artists.length;if(r>1){for(var n="",i=0;r>i;i++)0===i?e.artist=a.data.artists[i].name:1===i?n=n+" feat. "+a.data.artists[i].name:i===r?n+=a.data.artists[i].name:n=n+", "+a.data.artists[i].name;e.artistFeats=n}e.artwork=a.data.album.images[0].url,e.listen=a.data.artists[0].external_urls.spotify,e.preview=a.data.preview_url,kanye.push(e)};n.kanyes=kanye}]),app.service("singleList",[function(){var a=this,t="3X38ErFiKgzUxinBlhwuWm",e="7y2YUIyCuVhBidENVT0068",r="0KCcw89HkV6MLyJCS0upLR",n="5XhM5Tym0THyceMZkzbSWV",i="3XUu0GCJo2C81R3EPciXgN",s="7kjFiwwjH5OZeTkqoAhSKh",l="5jJ69cMDMC0aeWPjZo6VP2",o="2pQfwOUVPCk3CfqzVx8y4Q",d="5vC0nnnkYMGIBWS9YN1L8u",u="6TaqooOXAEcijL6G1AWS2K",m=[{dataUri:t,rank:1},{dataUri:r,rank:2},{dataUri:o,rank:8},{dataUri:l,rank:7},{dataUri:e,rank:3},{dataUri:d,rank:4},{dataUri:i,rank:6},{dataUri:s,rank:5},{dataUri:u,rank:10},{dataUri:n,rank:9}];a.singleUris=m}]),app.service("getSingleData",["singleList","$http",function(a,t){function e(a,e){t({method:"GET",url:"https://api.spotify.com/v1/tracks/"+a+"?market=ES"}).then(function(a){i(a,e)},function(a){console.log(a)})}function r(){for(var t=0;t<a.singleUris.length;t++)e(a.singleUris[t].dataUri,a.singleUris[t].rank)}var n=this;r(),single=[];var i=function(a,t){var e={};if(e.rank=t,e.singleName=a.data.name,-1!=e.singleName.indexOf(' - From "Fifty Shades Of Grey"')&&(e.singleName=e.singleName.replace(' - From "Fifty Shades Of Grey"',"")),e.artist=a.data.artists[0].name,a.data.artists.length>1){for(var r="",n=0;n<a.data.artists.length;n++)0===n?e.artist=a.data.artists[n].name:1===n?r=r+" feat. "+a.data.artists[n].name:2===n?r=r+", "+a.data.artists[n].name:r+=a.data.artists[n].name;e.artistFeats=r}e.artwork=a.data.album.images[0].url,e.listen=a.data.artists[0].external_urls.spotify,e.preview=a.data.preview_url,single.push(e)};n.singles=single}]);