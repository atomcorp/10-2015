var app=angular.module("app",["ngRoute"]);app.controller("top10Albums",["$http","getAlbumData",function(a,t){var r=this;r.albums=t.albums}]),app.controller("top10Singles",["$http","getSingleData",function(a,t){var r=this;r.singles=t.singles}]),app.controller("top10Kanye",["$http","$timeout","getKanyeData",function(a,t,r){var e=this;e.kanye=r.kanyes}]),app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"js/pages/albums.html",controller:"top10Albums"}).when("/singles",{templateUrl:"js/pages/singles.html",controller:"top10Singles"}).when("/kanye",{templateUrl:"js/pages/kanye.html",controller:"top10Kanye"})}]),app.controller("navigation",["$location",function(a){var t=this;t.isActive=function(t){var r=t===a.path();return r}}]),app.filter("trusted",["$sce",function(a){return function(t){return a.trustAsResourceUrl(t)}}]),app.service("albumList",[function(){var a=this,t="5hB4jVN4ZHpubyiMmW81K1",r="2DtLmzu6cCDYO9U53a6hRA",e="1lvwZvotQke1mhZbwadECt",n="59olnuVrXXgrDH4wknpDLC",i="1kVTV6AoeMjAOMOJyVfYOl",s="4bYe7wIj8bQr57ghYYyPAF",l="2f6y5TjWHIuaiBY9A2ZtHm",o="3arNdjotCvtiiLFfjKngMc",u="79dL7FLiJFOO0EoehUHQBv",d="2fGpw56D35My0c82eNfKJF",m=[{dataUri:t,rank:1},{dataUri:r,rank:2},{dataUri:e,rank:8},{dataUri:n,rank:7},{dataUri:i,rank:4},{dataUri:s,rank:3},{dataUri:l,rank:6},{dataUri:o,rank:5},{dataUri:u,rank:10},{dataUri:d,rank:9}];a.albumUris=m}]),app.service("getAlbumData",["albumList","$http",function(a,t){function r(a,r){t({method:"GET",url:"https://api.spotify.com/v1/albums/"+a+"?market=ES"}).then(function(a){i(a,r)},function(a){console.log(a)})}function e(){for(var t=0;t<a.albumUris.length;t++)r(a.albumUris[t].dataUri,a.albumUris[t].rank)}var n=this;e(),albums=[];var i=function(a,t){var r={};if(r.rank=t,r.albumName=a.data.name,a.data.artists.length>1){for(var e="",n=0;n<a.data.artists.length;n++)0===n?e+=a.data.artists[n].name:e=e+", "+a.data.artists[n].name;r.artist=e}else r.artist=a.data.artists[0].name;r.artwork=a.data.images[0].url,r.listen=a.data.external_urls.spotify,r.tracklist=[],r.previewList=[];for(var i=a.data.tracks.total,n=0;i>n;n++){var s=a.data.tracks.items[n].name,l=a.data.tracks.items[n].preview_url;r.tracklist.push(s),r.previewList.push(l)}albums.push(r)};n.albums=albums}]),app.service("kanyeList",[function(){var a=this,t="3H2SdgGjREhOdvtlKUCWGy",r="078C2jXg7XsMgW78Gfx1JA",e="2gAGWaK4wvt2xrFUlR4mK8",n="4w7yrP4RAeeyhfG9nJqQvS",i="28YLWwEB6xnJQYN7e062rH",s="5XzmZjXhMjDHr7ZfJ6DELQ",l="0XLCdSMvlyKLwaajBZK1gW",o="4ZIb6YivyYtpOD0Ur7kDEP",u="1ys9KbGq0I8b1fUu2tMK8p",d="1YD3Dg7Olipi5FGVDLHWAu",m=[{dataUri:n,rank:1},{dataUri:s,rank:2},{dataUri:o,rank:8},{dataUri:r,rank:7},{dataUri:i,rank:3},{dataUri:l,rank:4},{dataUri:e,rank:6},{dataUri:t,rank:5},{dataUri:u,rank:10},{dataUri:d,rank:9}];a.kanyeUris=m}]),app.service("getKanyeData",["kanyeList","$http",function(a,t){function r(a,r){t({method:"GET",url:"https://api.spotify.com/v1/tracks/"+a+"?market=ES"}).then(function(a){i(a,r)},function(a){console.log(a)})}function e(){for(var t=0;t<a.kanyeUris.length;t++)r(a.kanyeUris[t].dataUri,a.kanyeUris[t].rank)}var n=this;n.kanyes={kanyes:"something"},e(),kanye=[];var i=function(a,t){var r={};r.rank=t,r.kanyeName=a.data.name,-1!=r.kanyeName.indexOf(" (feat. Kanye West & Diddy)")?r.kanyeName=r.kanyeName.replace(" (feat. Kanye West & Diddy)",""):-1!=r.kanyeName.indexOf(" - feat. Kanye West")&&(r.kanyeName=r.kanyeName.replace(" - feat. Kanye West","")),r.artist=a.data.artists[0].name;var e=a.data.artists.length;if(e>1){for(var n="",i=0;e>i;i++)0===i?r.artist=a.data.artists[i].name:1===i?n=n+" feat. "+a.data.artists[i].name:i===e?n+=a.data.artists[i].name:n=n+", "+a.data.artists[i].name;r.artistFeats=n}r.artwork=a.data.album.images[0].url,r.listen=a.data.artists[0].external_urls.spotify,r.preview=a.data.preview_url,kanye.push(r)};n.kanyes=kanye}]),app.service("singleList",[function(){var a=this,t="3X38ErFiKgzUxinBlhwuWm",r="7y2YUIyCuVhBidENVT0068",e="0KCcw89HkV6MLyJCS0upLR",n="5XhM5Tym0THyceMZkzbSWV",i="3XUu0GCJo2C81R3EPciXgN",s="7kjFiwwjH5OZeTkqoAhSKh",l="5jJ69cMDMC0aeWPjZo6VP2",o="2pQfwOUVPCk3CfqzVx8y4Q",u="5vC0nnnkYMGIBWS9YN1L8u",d="6TaqooOXAEcijL6G1AWS2K",m=[{dataUri:t,rank:1},{dataUri:e,rank:2},{dataUri:o,rank:8},{dataUri:l,rank:7},{dataUri:r,rank:3},{dataUri:u,rank:4},{dataUri:i,rank:6},{dataUri:s,rank:5},{dataUri:d,rank:10},{dataUri:n,rank:9}];a.singleUris=m}]),app.service("getSingleData",["singleList","$http",function(a,t){function r(a,r){t({method:"GET",url:"https://api.spotify.com/v1/tracks/"+a+"?market=ES"}).then(function(a){i(a,r)},function(a){console.log(a)})}function e(){for(var t=0;t<a.singleUris.length;t++)r(a.singleUris[t].dataUri,a.singleUris[t].rank)}var n=this;e(),single=[];var i=function(a,t){var r={};if(r.rank=t,r.singleName=a.data.name,-1!=r.singleName.indexOf(' - From "Fifty Shades Of Grey"')&&(r.singleName=r.singleName.replace(' - From "Fifty Shades Of Grey"',"")),r.artist=a.data.artists[0].name,a.data.artists.length>1){for(var e="",n=0;n<a.data.artists.length;n++)0===n?r.artist=a.data.artists[n].name:1===n?e=e+" feat. "+a.data.artists[n].name:2===n?e=e+", "+a.data.artists[n].name:e+=a.data.artists[n].name;r.artistFeats=e}r.artwork=a.data.album.images[0].url,r.listen=a.data.artists[0].external_urls.spotify,r.preview=a.data.preview_url,single.push(r)};n.singles=single}]);